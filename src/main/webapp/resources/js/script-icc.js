window.onload=function(){setTimeout(removeLoad,400);document.getElementById("panel-carga").style.opacity="0"};var toast,toastLive=document.getElementById("toast-msg");toastLive&&(toast=new bootstrap.Toast(toastLive));var ingresoFecha,listTarifaInput=document.querySelectorAll(".tarifa"),maxPasajero=document.getElementById("max-pasajeros"),totalTarifa=document.getElementById("form:total-tarifa");function mostrarToast(e){if("success"===e.status){const t=document.getElementById("form:show-toast");t&&"true"===t.value&&(toast.show(),t.value="false")}}function validarCampo(e){null==e.value||0===e.value.trim().length?(e.classList.remove("is-valid"),e.classList.add("is-invalid")):(e.classList.remove("is-invalid"),e.classList.add("is-valid"))}function validarFormulario(e){loading(e);let t=document.querySelectorAll(".validate");t.forEach(e=>{validarCampo(e)}),e&&mostrarToast(e)}function buscarValorDataList(t){var a=t.id.includes("form")?t.id.split(":")[1]:t.id,o=document.getElementById("datalist-"+a).children;if(o)for(let e=0;e<o.length;e++)if(o[e].textContent===t.value)return void(document.getElementById("form:hidden-"+a).value=o[e].dataset.value);document.getElementById("form:hidden-"+a).value=null,t.value=null}function loading(e){switch(e.status){case"begin":document.getElementById("loading").style.display="block";break;case"complete":document.getElementById("loading").style.display="none"}}function removeLoad(){document.getElementById("panel-carga").style.display="none"}function showLoader(){document.getElementById("loading").style.display="block";setInterval(function(){document.getElementById("loading").style.display="none"},2e3)}function validarCampoFecha(e){var t=e.status;let a=e.source;switch(t){case"begin":ingresoFecha=null!==a.value&&""!==a.value;break;case"success":if(a.id.includes("Regreso")){const o=document.getElementById("form:txtFechaIda");null!==o.value&&""!==o.value||(o.focus(),toast.show())}!ingresoFecha||null!==a.value&&""!==a.value||toast.show(),validarCampo(a)}}function validarCiudadDestino(e){if("success"===e.status){const t=document.getElementById("form:txtCiudadOrigen");null!==t.value&&""!==t.value||(t.focus(),toast.show())}}function validarFormularioInicio(e){if("success"===e.status){const t=document.getElementById("form:txtFechaRegreso");t&&(t.disabled?t.classList.remove("validate"):t.classList.add("validate"),validarFormulario(e)),mostrarToast(e)}}function controlarNumPasajero(e){e.blur();let t=0;listTarifaInput.forEach(e=>{t+=parseInt(e.value)}),contarPasajero(e,t)}function contarPasajero(e,t){const a=e.nextElementSibling||e.previousElementSibling;let o=parseInt(a.value);var s=e.name.includes("0")?1:0;if(e.name.includes("Plus")&&t<parseInt(maxPasajero.value)){if(o++,0==s&&1<=o){const alert=document.getElementById("alertMenor");alert.classList.remove("d-none"),alert.classList.add("d-flex")}}else if(e.name.includes("Sub")&&1<t&&o>s){if(o--,0==s&&0===o){const alert=document.getElementById("alertMenor");alert.classList.remove("d-flex"),alert.classList.add("d-none")}}else 1===o&&1==s?alert("Un adulto debe realizar la compra"):alert("LÃ­mite Pasajeros");a.value=""+o}function activarBoleto(e){document.querySelectorAll(".boleto-link").forEach(e=>{e.classList.remove("active")}),e.classList.add("active"),controlarAcordeon()}function controlarAcordeon(){let e=document.getElementById("flush-headingOne");const t=document.getElementById("flush-collapseOne");e&&(e=e.firstElementChild,e.classList.add("collapsed"),e.setAttribute("aria-expanded","false"),t.classList.remove("show"))}function loadingCiudadDestino(e){switch(loading(e),e.status){case"begin":document.getElementById("form:txtCiudadDestino").disabled=!0;break;case"complete":document.getElementById("form:txtCiudadDestino").disabled=!1}}function controlarAsiento(e){switch(loading(e),e.status){case"begin":if(!e.source.disabled){var a=parseInt(totalTarifa.value);let t=0;document.querySelectorAll(".asiento-check").forEach(e=>{e.checked&&!e.disabled&&t++}),t>a&&toast.show()}break;case"success":document.getElementById("form:asiento").checked&&toast.show()}}