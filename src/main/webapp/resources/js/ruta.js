/*
 * CopyRight - Imbaburapac Churimi Canchic S.A.
 * Todos los derechos reservados
 * Powered By WALLPANADEV S.A.S. B.I.C.
* */

let map;const googleMaps=document.createElement("script");googleMaps.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAroF2okma4wwsx_bfTyt1-Q1t466e2dyw",googleMaps.async=!0;let directionsService,directionsRenderer,marker,aux,infowindow,ciudadOrigen,ciudadDestino,origin,destination,load=!0,load2=!0;const infoOrigen=document.getElementById("info-origen"),infoDestino=document.getElementById("info-destino");function initMap(){aux=infoOrigen.value.split(";"),ciudadOrigen=aux[0],aux=aux[1].split(","),origin={lat:parseFloat(aux[0]),lng:parseFloat(aux[1])},aux=infoDestino.value.split(";"),ciudadDestino=aux[0],aux=aux[1].split(","),destination={lat:parseFloat(aux[0]),lng:parseFloat(aux[1])},map=new google.maps.Map(document.getElementById("map"),{mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}),infowindow=new google.maps.InfoWindow,marker=new google.maps.Marker({position:origin,map:map}),infowindow.setContent(ciudadOrigen),infowindow.open(map,marker),infowindow=new google.maps.InfoWindow,marker=new google.maps.Marker({position:destination,map:map}),infowindow.setContent(ciudadDestino),infowindow.open(map,marker),directionsService=new google.maps.DirectionsService,directionsRenderer=new google.maps.DirectionsRenderer({map:map,suppressMarkers:!0}),directionsService.route({origin:origin,destination:destination,travelMode:google.maps.TravelMode.DRIVING}).then(e=>{directionsRenderer.setDirections(e)}).catch(e=>window.alert("Directions request failed due to "+e))}const modalRuta=document.getElementById("rutaModal");let myModalRuta;modalRuta&&(modalRuta.addEventListener("show.bs.modal",function(){load&&(document.head.appendChild(googleMaps),load=!1)}),modalRuta.addEventListener("shown.bs.modal",function(){load2&&(initMap(),load2=!1)}),myModalRuta=new bootstrap.Modal(modalRuta));